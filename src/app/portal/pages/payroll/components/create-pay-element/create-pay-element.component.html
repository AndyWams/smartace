<div class="header d-flex align-items-center justify-content-between mb-4">
  <div class="title">
    {{ queryString === "add" ? "Set up a Pay Element" : "Edit Pay Element" }}
  </div>
</div>
<div class="bg-white">
  <div
    class="form-wrap"
    [ngClass]="[queryString === 'add' ? 'w--700' : 'w--850']"
  >
    <form>
      <div class="grid align-items-center">
        <label>Payroll Item</label>
        <div class="input mb-0">
          <mat-select
            class="select"
            placeholder="Payroll item"
            required
            (change)="handlePayrollItemSelect($event)"
            *ngIf="payrollItem !== 'Create new'"
          >
            <mat-option disabled="" selected="" value=""
              >Select item</mat-option
            >
            <mat-option value="Statutory">Statutory</mat-option>
            <mat-option value="Non-statutory">Non-statutory</mat-option>
            <mat-option value="Create new">Create new</mat-option>
          </mat-select>
          <input
            type="text"
            placeholder="Enter payroll item"
            *ngIf="payrollItem === 'Create new'"
          />
        </div>
      </div>
      <div class="grid align-items-center">
        <label>Pay Type</label>
        <div class="input mb-0">
          <mat-select
            class="select"
            placeholder="Pay type"
            required
            (change)="handlePayTypeSelect($event)"
          >
            <mat-option disabled="" selected="" value=""
              >Select type</mat-option
            >
            <mat-option value="Monthly">Monthly</mat-option>
            <mat-option value="Time-shift">Time-shift</mat-option>
          </mat-select>
        </div>
      </div>
      <div class="grid align-items-center">
        <label>Element Name</label>
        <div class="input mb-0">
          <input type="text" placeholder="Element name" />
        </div>
      </div>
      <div class="grid align-items-center" *ngIf="payType === 'Monthly'">
        <label>Element Category</label>
        <div class="input mb-0">
          <mat-select placeholder="Element category" class="select" required>
            <mat-option disabled="" selected="" value="">
              Select element category
            </mat-option>
            <mat-option value="Taxable">Taxable</mat-option>
            <mat-option value="Non-Taxable">Non-Taxable</mat-option>
            <mat-option value="Bonus">Bonus</mat-option>
          </mat-select>
        </div>
      </div>
      <div class="grid align-items-center">
        <label>Element Type</label>
        <div class="input mb-0">
          <mat-select placeholder="Element type" class="select" required>
            <mat-option disabled="" selected="" value="">
              Select element type
            </mat-option>
            <mat-option value="Earnings">Earnings</mat-option>
            <mat-option value="Deduction">Deduction</mat-option>
          </mat-select>
        </div>
      </div>
      <div class="grid align-items-center" *ngIf="payType === 'Time-shift'">
        <label>Earning Type</label>
        <div class="input mb-0">
          <select class="select" required>
            <option disabled="" selected="" value="">
              Select element type
            </option>
            <option value="Salary">Salary</option>
            <option value="Wages">Wages</option>
            <option value="Overtime">Overtime</option>
          </select>
        </div>
      </div>
      <div class="grid align-items-center" *ngIf="payType === 'Time-shift'">
        <label>Amount Per Hour</label>
        <div class="input mb-0">
          <input type="text" placeholder="Amount per hour" />
        </div>
      </div>
      <div class="grid align-items-center" *ngIf="payType === 'Time-shift'">
        <label
          >No of Work Hours
          <span class="italize txt-sm">(Optional)</span></label
        >
        <div class="input mb-0">
          <input type="text" placeholder=" No of work hours" />
        </div>
      </div>
      <div class="grid align-items-center" *ngIf="payType === 'Monthly'">
        <label>Payment Mode</label>
        <mat-radio-group aria-label="Select an option">
          <mat-radio-button
            class="me-4"
            value="predefined"
            (change)="handlePaymentModeToggle($event)"
            checked
            id="predefined"
            >Amount</mat-radio-button
          >
          <mat-radio-button
            value="variable"
            (change)="handlePaymentModeToggle($event)"
            id="variable"
            >Variable</mat-radio-button
          >
        </mat-radio-group>
      </div>
      <!--Variable-->
      <div
        class="grid align-items-center"
        *ngIf="predefinedPaymentMode === 'variable' && payType === 'Monthly'"
      >
        <label>Variable</label>
        <div class="d-flex align-items-center">
          <div class="input mb-0">
            <input type="text" placeholder="Percentage" />
          </div>
          <span class="mx-3 txt-sm">Of</span>
          <div class="input mb-0">
            <mat-select
              placeholder="Pay element"
              class="select"
              multiple
              #matSelect
              (selectionChange)="handlePayElementChange($event)"
            >
              <mat-select-trigger>
                {{ payElments ? payElments.slice(0, 2) : "" }}
                <span class="more" *ngIf="payElments.length > 2">
                  +{{ payElments.slice(0, 2).length - 1 }} other item
                </span>
              </mat-select-trigger>
              <mat-option
                #allSelected
                (click)="toggleAllSelection()"
                [value]="0"
                >All</mat-option
              >
              <mat-option
                #options
                *ngFor="let option of options"
                [value]="option.value"
                (click)="toggleOne()"
              >
                {{ option.label }}
              </mat-option>
            </mat-select>
          </div>
        </div>
      </div>
      <!--Amount-->
      <div
        class="grid align-items-center"
        *ngIf="predefinedPaymentMode === 'predefined' && payType === 'Monthly'"
      >
        <label>Amount</label>
        <div class="input mb-0">
          <input type="text" placeholder="Amount" />
        </div>
      </div>
      <div class="grid align-items-center">
        <label>Payment Institution</label>
        <div class="input mb-0">
          <mat-select
            placeholder="Payment insititution"
            class="select"
            required
          >
            <mat-option disabled="" selected="" value="">
              Select payment institution
            </mat-option>
          </mat-select>
        </div>
      </div>
      <div class="grid align-items-center">
        <label>Deduct Tax</label>
        <mat-slide-toggle
          style="width: fit-content"
          (change)="handleSlideToggle($event)"
        ></mat-slide-toggle>
      </div>
      <!--Tax mode-->
      <div class="grid align-items-center" *ngIf="_isChecked">
        <label>Tax Mode</label>
        <mat-radio-group aria-label="Select an option">
          <mat-radio-button
            checked
            value="default"
            class="me-4"
            (change)="handleTaxModeToggle($event)"
            id="default"
            >Select from Tax list</mat-radio-button
          >
          <mat-radio-button
            value="inputValue"
            (change)="handleTaxModeToggle($event)"
            id="inputValue"
            >input Tax Value</mat-radio-button
          >
        </mat-radio-group>
      </div>
      <!--Tax type-->
      <div
        class="grid align-items-center"
        *ngIf="_isChecked && taxMode === 'default'"
      >
        <label>Tax Type</label>
        <div class="input mb-0">
          <mat-select placeholder="Tax type" class="select" required>
            <mat-option disabled="" selected="" value=""
              >Select tax type</mat-option
            >
            <mat-option value="Value Added Tax">Value Added Tax</mat-option>
            <mat-option value="Withholding Tax">Withholding Tax</mat-option>
            <mat-option value="Personal Income Tax"
              >Personal Income Tax</mat-option
            >
          </mat-select>
        </div>
      </div>
      <div
        class="grid align-items-center"
        *ngIf="_isChecked && taxMode === 'inputValue'"
      >
        <label>Tax Type</label>
        <div class="input mb-0">
          <input type="text" placeholder="Tax value" />
        </div>
      </div>
      <div class="grid align-items-center pt-4">
        <span>&nbsp;</span>
        <div class="d-flex align-items-center">
          <button type="button" mat-flat-button class="me-4">
            {{ queryString === "add" ? "Save" : "Update" }}
          </button>
          <button
            type="button"
            mat-stroked-button
            class="btn--danger me-4"
            *ngIf="queryString === 'edit'"
          >
            Delete
          </button>
          <button type="button" mat-stroked-button>Cancel</button>
        </div>
      </div>
    </form>
  </div>
</div>
